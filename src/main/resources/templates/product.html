<!-- product.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Product Page</title>
</head>
<body>
<!-- 상품 정보 생략 -->
<div>
    <h3>댓글 작성</h3>
    <form th:action="@{/product/{productId}/comment(productId=${product.id})}" method="post">
        <input type="hidden" th:value="${session.nickname}" name="nickname"/>
        <textarea name="content" placeholder="댓글을 입력하세요"></textarea>
        <button type="submit">댓글 달기</button>
    </form>
</div>

<div>
    <h3>댓글 목록</h3>
    <ul>
        <li th:each="comment : ${comments}">
            <p th:text="${comment.nickname} + ': ' + ${comment.content}"></p>
            <form th:action="@{/product/{productId}/comment/{commentId}/delete(productId=${comment.productId}, commentId=${comment.id})}" method="post">
                <button type="submit">삭제</button>
            </form>
            <form th:action="@{/product/{productId}/comment/{commentId}/update(productId=${comment.productId}, commentId=${comment.id})}" method="post">
                <input type="text" name="content" th:value="${comment.content}"/>
                <button type="submit">수정</button>
            </form>
        </li>
    </ul>
</div>
</body>
</html>
